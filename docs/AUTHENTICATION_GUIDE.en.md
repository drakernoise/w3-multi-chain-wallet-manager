# ğŸ—³ï¸ Gravity Wallet - Authentication & 2FA Guide

This guide details the authentication options implemented in version 1.0.5+, including support for multiple Second Factor (2FA) methods.

## ğŸ” Supported Authentication Methods

The Gravity Wallet Vault can be unlocked using:

1.  **Master Password:** Traditional decryption method.
2.  **Security PIN (6 digits):** Quick daily access method.
3.  **Biometrics (WebAuthn):** TouchID, FaceID, or Windows Hello.
4.  **TOTP Authenticator:** Aegis, Google Authenticator, Authy, etc.
5.  **Passwordless (Google/Device):** NEW! Sign up and log in without a master password using your Google account or hardware keys.

---

## ğŸš€ NEW: Passwordless Flow (Google & Device Key)

Starting with version 1.0.6, you can choose to initialize your wallet without a master password. 

### How it works:
- **Google Sign-In:** Uses Google OAuth to derive a secure encryption key for your local vault.
- **Device Key:** Uses your local hardware (TPM/Secure Enclave) to secure a generated master key.

This provides a "web2-like" onboarding experience while maintaining non-custodial security.

---

## ğŸ›¡ï¸ Authenticator Setup (TOTP)

TOTP functionality allows you to unlock the extension using a 6-digit temporary code generated by an external app. This replaces the need to type your master password constantly.

### How to enable:

1.  Open the extension and unlock it.
2.  Go to the **Settings** tab (Gear icon).
3.  Scroll down to the **Security** section and click **"Authenticator App (2FA)"**.
4.  A QR code and a secret key will be displayed.

### ğŸ“± Multi-Device Usage (Aegis + Google Auth at the same time)

You can configure multiple apps or devices to generate the same valid code.

**Steps to sync:**

1.  Do not close the QR code window in the extension.
2.  Open **Aegis** on your phone and scan the QR.
3.  Open **Google Authenticator** (or any other app on another device) and scan **the same QR**.
4.  Verify that both apps generate the same 6-digit code.
5.  Enter the code in the extension to confirm and save.

> **Technical Note:** Upon confirming the code, the extension internally migrates the vault encryption to a device-bound key system (`device_auth`), allowing passwordless unlocking.

---

## ğŸš¦ Password Strength Indicator

During the creation of a new wallet, a security meter is included:

- **Analysis:** Evaluates length (>10), uppercase letters, numbers, and symbols.
- **Feedback:**
    - ğŸŸ¥ **Weak:** < 10 characters or too simple.
    - ğŸŸ¨ **Medium:** Acceptable but could be better.
    - ğŸŸ© **Strong:** Good combination.
    - ğŸŸ© **Very Strong:** Excellent security.

---

## ğŸ”„ Recovery and Reset

If you forget your PIN or lose your 2FA device:
1.  On the lock screen, use your **Master Password** to enter.
2.  If you also lost your master password, use the **"Clear Local Data & Reset"** link at the bottom of the lock screen.
    - *Warning:* This will permanently erase all accounts and private keys stored locally. You will need your backup keys (Owner/Active/Posting) to restore the wallet.
